(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();var c,l=document.createElement("div");l.id="arbox";document.body.appendChild(l);var m=0,g=!1;document.addEventListener("DOMContentLoaded",function(){function n(t){return new Promise((i,o)=>{const e=document.createElement("script");e.src=t,e.onload=()=>{console.log(`Script loaded: ${t}`),i()},e.onerror=()=>{console.error(`Failed to load script: ${t}`),o()},document.head.appendChild(e)})}c=new Vue({el:"#app",data:{viewPage:"home",slidesData:["../assets/images/s1.png","https://thumb.ac-illust.com/30/306837819e76342840641fd1d53fd2f9_t.jpeg","../assets/images/s1.png"],currentIndex:0,is_viewed:!1},methods:{showSlide(t){this.currentIndex=t},prevSlide(){this.currentIndex=(this.currentIndex-1+this.slidesData.length)%this.slidesData.length},nextSlide(){this.currentIndex=(this.currentIndex+1)%this.slidesData.length},changeViewPage(t){this.viewPage=t},nextPage(){this.is_viewed?this.changeViewPage("qa01"):alert("請觀看完影片")}},watch:{viewPage(t){(t==="arpage"||t==="arpage02")&&Promise.all([n("https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"),n("https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js")]).then(()=>{console.log("AR scripts loaded."),AFRAME.registerComponent("image-tracker-1",{init:function(){console.log("image-tracker-1 init")},tick:function(){this.el.object3D.visible==!0&&(console.log("image-tracker-1 detected"),l.style.display="block",m=2,c.viewPage="poster",alert("成功辨識封面1"))}}),AFRAME.registerComponent("image-tracker-2",{init:function(){console.log("image-tracker-2 init")},tick:function(){this.el.object3D.visible==!0&&(console.log("image-tracker-2 detected"),m!=2&&!g?(g=!0,alert("請先掃描封面辨識點")):alert("成功辨識封面2"))}})}).catch(i=>{console.error("Failed to load AR scripts:",i)})}},mounted(){var t=document.getElementById("youtubeVideo1"),i=document.getElementById("youtubeVideo2"),o,e=!1,r=!1;function a(){new YT.Player(t,{events:{onStateChange:p}}),o=new YT.Player(i,{events:{onStateChange:h}})}var d=document.createElement("script");d.src="https://www.youtube.com/iframe_api";var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(d,u);function p(s){s.data==YT.PlayerState.ENDED&&(e=!0,f())}function h(s){s.data==YT.PlayerState.PLAYING&&setTimeout(v,3e4)}function v(){o.getCurrentTime()>=30&&(r=!0,f())}function f(){e&&r&&y()}function y(){alert("第一部影片播放完畢，且第二部影片已經觀看30秒！"),c.is_viewed=!0}window.onYouTubeIframeAPIReady=a}})});console.log("Hello world!");
