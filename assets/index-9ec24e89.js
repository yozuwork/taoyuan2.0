(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(t){if(t.ep)return;t.ep=!0;const a=i(t);fetch(t.href,a)}})();var n,u=document.createElement("div");u.id="arbox";document.body.appendChild(u);document.addEventListener("DOMContentLoaded",function(){n=new Vue({el:"#app",data:{viewPage:"video-view",slidesData:["assets/s1.png","https://thumb.ac-illust.com/30/306837819e76342840641fd1d53fd2f9_t.jpeg","assets/s1.png"],currentIndex:0,is_viewed:!1},methods:{showSlide(r){this.currentIndex=r},prevSlide(){this.currentIndex=(this.currentIndex-1+this.slidesData.length)%this.slidesData.length},nextSlide(){this.currentIndex=(this.currentIndex+1)%this.slidesData.length},changeViewPage(r){this.viewPage=r},nextPage(){this.is_viewed?this.changeViewPage("qa01"):alert("請觀看完影片")},checkAnswer(r,o){const i=this;this.isDisabled||(this.isDisabled=!0,document.querySelectorAll(".ansbox").forEach(e=>{e.disabled=!0}),document.querySelectorAll(".ansbox").forEach(e=>{e.classList.remove("ansbox-active")}),o.target.classList.add("ansbox-active"),r?(document.querySelectorAll(".correct").forEach(e=>{e.style.display="block"}),setTimeout(()=>{document.querySelectorAll(".correct").forEach(e=>{e.style.display="none"}),document.querySelectorAll(".ansbox").forEach(e=>{e.disabled=!1}),i.viewPage=="qa01"?i.viewPage="qa02":i.viewPage=="qa02"?i.viewPage="qa03":i.viewPage=="qa03"?i.viewPage="qa04":i.viewPage=="qa04"?i.viewPage="qa05":i.viewPage=="qa05"&&(i.viewPage="results"),document.querySelectorAll(".ansbox").forEach(e=>{e.classList.remove("ansbox-active")}),this.isDisabled=!1},1e3)):(document.querySelectorAll(".mistake").forEach(e=>{e.style.display="block"}),setTimeout(()=>{document.querySelectorAll(".mistake").forEach(e=>{e.style.display="none"}),document.querySelectorAll(".ansbox").forEach(e=>{e.disabled=!1}),document.querySelectorAll(".ansbox").forEach(e=>{e.classList.remove("ansbox-active")}),this.isDisabled=!1},1e3)))},initAR(){this.viewPage==="arpage"&&AFRAME.registerComponent("image-tracker-1",{init:function(){alert("相機1"),console.log("image-tracker-1 init")},tick:function(){this.el.object3D.visible==!0&&(console.log("image-tracker-1 detected"),n.viewPage="poster",alert("成功辨識封面1"))}}),this.viewPage==="arpage02"&&AFRAME.registerComponent("image-tracker-2",{init:function(){console.log("image-tracker-2 init"),alert("相機2")},tick:function(){this.el.object3D.visible==!0&&(console.log("image-tracker-2 detected"),n.viewPage="video-view",alert("成功辨識封面2"))}})}},watch:{viewPage(r){(r==="arpage"||r==="arpage02")&&this.initAR()}},mounted(){var r=document.getElementById("youtubeVideo1"),o=document.getElementById("youtubeVideo2"),i,e=!1,t=!1;function a(){new YT.Player(r,{events:{onStateChange:f}}),i=new YT.Player(o,{events:{onStateChange:m}})}var s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(s,c);function f(l){l.data==YT.PlayerState.ENDED&&(e=!0,d())}function m(l){l.data==YT.PlayerState.PLAYING&&setTimeout(g,3e4)}function g(){i.getCurrentTime()>=30&&(t=!0,d())}function d(){e&&t&&h()}function h(){alert("第一部影片播放完畢，且第二部影片已經觀看30秒！"),n.is_viewed=!0}window.onYouTubeIframeAPIReady=a}})});console.log("Hello world!");
